<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>US DOS SCRAPE</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
  body {
    background: white;
    color: black;
    font-family: 'Roboto Mono', monospace;
    margin:0;
    padding:0;
  }

  .banner {
    display:flex;
    align-items:center;
    gap:10px;
    background:#002366;
    padding:4px 10px;
    height:40px;
    color:white;
    box-shadow:0 1px 4px rgba(0,0,0,0.2);
  }
  .banner img { width:30px; height:auto; }
  .banner-text { font-family:'Times New Roman', Times, serif; font-size:14px; font-weight:bold; text-transform:uppercase; }
  .banner-text .fancy { font-family:cursive; font-size:10px; text-transform:lowercase; margin:0 2px; }

  .container { max-width:800px; margin:10px; position:relative; }
  .status { font-family:'Press Start 2P'; font-size:6px; font-weight:700; margin-bottom:4px; }
  .upload-line {
    font-family:'Press Start 2P';
    font-size:4px;
    color:#888;
    display:flex;
    align-items:center;
    gap:2px;
    min-height:8px;
  }
  .file-icon { width:5px; height:5px; }

  .progress-bar {
    width:100%;
    height:1px;
    background:rgba(0,0,0,0.1);
    overflow:hidden;
    margin-top:1px;
    border-radius:0;
  }
  .progress-fill {
    height:100%;
    width:0%;
    background:#888;
    border-radius:0;
  }

  .flash { animation: flash 1.5s ease-in-out infinite; }
  @keyframes flash {
    0% { opacity:0.2; }
    50% { opacity:1; }
    100% { opacity:0.2; }
  }

  footer {
    margin-top:2000px;
    padding:10px 5px;
    font-size:3px;
    color:#555;
    line-height:1.2em;
    text-align:center;
  }
  footer .cryptic { font-family:'Roboto Mono', monospace; color:#333; }

  /* Persistent Windows-style popup */
  #popup {
    position:absolute;
    top:50px; /* lowered so itâ€™s below animation */
    left:50%;
    transform:translateX(-50%);
    background:white;
    color:black;
    padding:10px 20px; /* smaller */
    font-family:'Press Start 2P';
    font-size:7px;
    border:2px solid black;
    z-index:999;
    text-align:center;
    box-shadow:3px 3px 6px rgba(0,0,0,0.3);
  }
  #popup button {
    font-family:'Press Start 2P';
    font-size:5px;
    padding:2px 5px;
    cursor:pointer;
    border:1px solid black;
    background:white;
    color:black;
    font-weight:bold;
  }

  @keyframes shake {
    0% { transform: translateX(-50%) translateY(0); }
    25% { transform: translateX(-50%) translateY(-1.5px); }
    50% { transform: translateX(-50%) translateY(1.5px); }
    75% { transform: translateX(-50%) translateY(-1.5px); }
    100% { transform: translateX(-50%) translateY(0); }
  }
</style>
</head>
<body>

<div class="banner">
  <img src="seal.png" alt="Seal">
  <div class="banner-text">U.S. DEPARTMENT <span class="fancy">of</span> STATE</div>
</div>

<div class="container">
  <div class="status">DEVICE SCRAPE</div>
  <div id="uploadContainer" class="upload-line"></div>
  <div class="progress-bar" id="progressBar">
    <div class="progress-fill" id="progressFill"></div>
  </div>
</div>

<footer>
  <div>Official website of the U.S. Department of State</div>
  <div>&copy; 2025 U.S. Department of State. All rights reserved.</div>
  <div class="cryptic">Security classification: INTERNAL USE ONLY | FOIA Case ID: 2025-DS-0731 | System ID: UST-987654</div>
  <div class="cryptic">Unauthorized access is prohibited. All activity may be monitored and reported.</div>
</footer>

<div id="popup">
  Scrape in progress
  <br><br>
  <button id="stopBtn">Cancel</button>
</div>

<script>
const uploadContainer = document.getElementById("uploadContainer");
const progressFill = document.getElementById("progressFill");
const progressBar = document.getElementById("progressBar");

const files = [
  "sys/core_x01.bin","sys/kernel_x02.sys","sys/bootloader.cfg","sys/initramfs.img",
  "config/settings_x03.dat","config/userdb_x04.db","cache/tmp_99.tmp","cache/tmp_a1.tmp",
  "storage/data_a12.bin","storage/data_b23.bin","logs/log_20250929.log","logs/error_001.log",
  "apps/lib_core_x.dll","apps/lib_ui_y.dll","bin/exec_01.bin","bin/exec_02.bin",
  "backup/backup_0501.bak","backup/backup_0615.bak","network/net_001.cfg","network/net_002.cfg",
  "system/fonts_x.ttf","system/lang_x.dat","system/ui_config_x.json","users/profile_a.cfg",
  "users/profile_b.cfg","temp/cache0a.tmp","temp/cache0b.tmp","temp/cache0c.tmp"
];

let index = 0;
let longFileDone = false;
const startTime = Date.now();
const maxDuration = 2*60*1000;

function uploadNext() {
  const elapsed = Date.now() - startTime;
  if(elapsed >= maxDuration){
    uploadContainer.textContent = "UPLOAD COMPLETE";
    progressBar.style.display="none";
    uploadContainer.classList.add("flash");
    return;
  }

  let file;
  let longFile = false;

  if(!longFileDone && index > 10){
    file = "Breaking message encryption...";
    longFile = true;
    longFileDone = true;
  } else {
    file = files[index % files.length];
  }

  uploadContainer.innerHTML = `<img class="file-icon" src="https://cdn-icons-png.flaticon.com/512/109/109612.png" alt="file"> ${file}`;
  progressFill.style.width="0%";
  progressBar.style.display="block";

  let progress = 0;

  function step() {
    const jump = (Math.random()*12) - 1.5;
    progress += jump;
    if(progress<0) progress=0;
    if(progress>100) progress=100;
    progressFill.style.width = progress + "%";

    if(progress>=100){
      progressFill.style.width="100%";
      progressBar.style.display="none";
      setTimeout(()=>{
        index++;
        uploadNext();
      }, longFile?1200:400);
    } else {
      const interval = Math.random()*120 + 50;
      setTimeout(step, interval);
    }
  }
  step();
}

uploadNext();

// Popup logic
const popup = document.getElementById('popup');
const stopBtn = document.getElementById('stopBtn');

function showPopup() { 
  popup.style.display = 'block'; 
  popup.style.animation = 'shake 0.5s';
  setTimeout(()=>{ popup.style.animation = ''; }, 500);
}

stopBtn.addEventListener('click', () => {
  popup.style.display = 'none';
  const randomDelay = Math.floor(Math.random()*8000)+3000; // 3-11 sec
  setTimeout(showPopup, randomDelay);
});

showPopup();
document.addEventListener('contextmenu', e => e.preventDefault());
</script>

</body>
</html>