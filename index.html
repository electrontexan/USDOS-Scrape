<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>US DOS SCRAPE</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
body {
  background:white;
  margin:0; padding:0;
  font-family:'Roboto Mono', monospace;
  overflow-x:hidden;
  transition: transform 0.3s ease;
}

/* Rotate 90Â° right when fullscreen */
body.fullscreen-landscape {
  transform: rotate(-90deg) translateX(-100%);
  transform-origin: top left;
  width:100vh; height:100vw;
  overflow:hidden;
}

/* Banner */
.banner {
  display:flex; align-items:center; gap:10px;
  background:#002366; padding:4px 10px; height:40px;
  color:white; box-shadow:0 1px 4px rgba(0,0,0,0.2);
}
.banner img { width:30px; height:auto; }
.banner-text { font-family:'Times New Roman', Times, serif; font-size:16px; font-weight:bold; text-transform:uppercase; }
.banner-text .fancy { font-family:cursive; font-size:12px; text-transform:lowercase; margin:0 2px; }

/* Main content */
.container { max-width:700px; margin:20px; }
.status { font-size:14px; font-weight:700; margin-bottom:6px; text-align:left; }
.upload {
  font-family:'Press Start 2P', monospace;
  font-size:5px;
  color:#888;
  min-height:12px;
  display:flex; align-items:center; justify-content:flex-start; gap:2px;
}
.progress-bar {
  width:100%; height:2px; background:rgba(0,0,0,0.1);
  overflow:hidden; margin-top:1px; border-radius:0;
}
.progress-fill { height:100%; width:0%; background:#555; border-radius:0; }
.hidden { opacity:0; }
.flash { animation: flash 1.5s ease-in-out infinite; }
@keyframes flash {0%{opacity:0.2}50%{opacity:1}100%{opacity:0.2}}
.file-icon { width:5px; height:5px; }

/* Pop-up */
.popup {
  position:absolute; background:white; border:2px solid black;
  width:180px; top:80px; left:20px; padding:8px;
  z-index:1000; font-family:Arial, sans-serif;
  display:flex; flex-direction:column; align-items:center; gap:6px;
  box-shadow:3px 3px 6px rgba(0,0,0,0.3);
}
.popup button { padding:4px 10px; font-size:12px; cursor:pointer; }

/* Footer */
footer {
  margin-top:1200px; padding:10px 5px; font-size:5px;
  color:#555; line-height:1.3em; text-align:center;
}
footer .cryptic { font-family:'Roboto Mono', monospace; color:#333; }
</style>
</head>
<body>

<!-- Banner -->
<div class="banner">
  <img src="seal.png" alt="Seal">
  <div class="banner-text">U.S. DEPARTMENT <span class="fancy">of</span> STATE</div>
</div>

<!-- Main content -->
<div class="container">
  <div class="status">DEVICE SCRAPE</div>
  <div class="upload" id="uploadText"></div>
  <div class="progress-bar" id="progressBar">
    <div class="progress-fill" id="progressFill"></div>
  </div>
</div>

<!-- Footer -->
<footer>
  <div>Official website of the U.S. Department of State</div>
  <div>&copy; 2025 U.S. Department of State. All rights reserved.</div>
  <div class="cryptic">Security classification: INTERNAL USE ONLY | FOIA Case ID: 2025-DS-0731 | System ID: UST-987654</div>
  <div class="cryptic">Unauthorized access is prohibited. All activity may be monitored and reported.</div>
</footer>

<!-- Pop-up -->
<div class="popup" id="popup">
  <div>Scrape in progress</div>
  <button id="okButton">OK</button>
</div>

<script>
const uploadText = document.getElementById("uploadText");
const progressFill = document.getElementById("progressFill");
const progressBar = document.getElementById("progressBar");
const popup = document.getElementById("popup");
const okButton = document.getElementById("okButton");

// Cryptic file names
const files = Array.from({length:100},(_,i)=>`sys/conf_${i}.dat`);
const longFile = "Breaking message encryption...";
let index=0, longFileDone=false;

// Upload animation
function uploadNext(){
  let fileToShow = (!longFileDone && index>10)?(longFileDone=true,longFile):files[index%files.length];
  uploadText.textContent = fileToShow;
  progressFill.style.width="0%";
  progressBar.classList.remove("hidden");
  let progress=0;
  const interval=setInterval(()=>{
    let jump=Math.random()*(fileToShow===longFile?2:15);
    progress+=jump;
    if(progress>=100){
      progress=100; progressFill.style.width="100%";
      clearInterval(interval);
      progressBar.classList.add("hidden");
      setTimeout(()=>{index++; uploadNext();}, fileToShow===longFile?1200:300);
    } else progressFill.style.width=progress+"%";
  },80);
}
uploadNext();

// Fullscreen request + rotate right (clockwise)
function requestFullScreen(){
  const docEl=document.documentElement;
  if(docEl.requestFullscreen) docEl.requestFullscreen();
  else if(docEl.webkitRequestFullscreen) docEl.webkitRequestFullscreen();
  else if(docEl.msRequestFullscreen) docEl.msRequestFullscreen();
  document.body.classList.add("fullscreen-landscape");
}

// Pop-up reappear
function showPopupRandom(){
  popup.style.display="flex";
  const delay=Math.floor(Math.random()*20000)+10000; // 10-30s
  setTimeout(showPopupRandom, delay);
}

okButton.addEventListener("click", ()=>{
  popup.style.display="none";
  requestFullScreen();
});

// Start first pop-up
showPopupRandom();
</script>

</body>
</html>